!function(){"use strict";var t={format:"hh:mm A",maxTime:null,minTime:null,minScreenWidth:576,step:60},e=[["h","h","hour"],["m","mm","minute"],["s","ss","second"],["a","A","meridiem"],],i={hour:24,minute:60,second:60,meridiem:2},n=!1;function a(t){return t.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")}function o(t,e){var i,n;if("object"==typeof t&&t instanceof dayjs)return!!t.isValid()&&t;if((n=(t=t.replace(/^\s+|\s+$/g,"")).match(/^([0-2]?\d)(?:s*:\s*([0-5]\d))?(?:\s*:\s*([0-5]\d))?(?:\s*([AP])\.?M\.?)?$/i))&&parseInt(n[1])>(n[4]?0:-1)&&parseInt(n[1])<(n[4]?13:24)&&(void 0===n[2]||parseInt(n[2])>-1&&60>parseInt(n[2]))&&(void 0===n[3]||parseInt(n[3])>-1&&60>parseInt(n[3]))){var a=parseInt(n[1]);return n[4]&&(a=a%12+("P"==n[4].toUpperCase()?12:0)),dayjs().hour(a).minute(void 0==n[2]?0:parseInt(n[2])).second(void 0===n[3]?0:parseInt(n[3]))}return!!e&&!!e.format&&"function"==typeof dayjs&&!!(i=dayjs(t,e.format)).isValid()&&i}function r(t){for(var e=t.minTime||dayjs().startOf("day"),i=t.maxTime||dayjs().endOf("day"),n=t.step||60,a={offset:{},hour:{},minute:{},second:{},meridiem:{},length:0},o=e.clone(),r=e.startOf("day").unix();o.isBefore(i)||o.isSame(i,"second");)a.offset[o.unix()-r]=!0,a.hour[o.hour()]=!0,a.minute[o.minute()]=!0,a.second[o.second()]=!0,a.meridiem[o.hour()>11?1:0]=!0,a.length++,o=o.add(n,"second");for(var s={hour:[],minute:[],second:[],meridiem:[],length:a.length},d=0;d<24;d++)s.hour.push(d in a.hour?0==d||12==d?12:d%12:null);return["minute","second"].forEach(function(t){for(var e=0;e<60;e++)s[t].push(e in a[t]?e<10?"0"+e:e:null)}),s.meridiem.push(0 in a.meridiem?"AM":null),s.meridiem.push(1 in a.meridiem?"PM":null),s}function s(t){var i=t.data("prevview"),n=t.data("view")||"hour",a=t.data("viewtime"),o=t.data("options"),r=o.step||60,s=!1;if(60%r>0){var d=o.minTime||dayjs().startOf("day"),c=a.diff(a.startOf("day"),"second");0>o.format.indexOf("s")&&(c-=c%60),s=(c-d.diff(d.startOf("day"),"second"))%r>0}var l=jQuery("#"+t.attr("id")+"-picker-content").attr("data-view",n);l.find(".submit-btn").prop("disabled",s||o.minTime&&a.isBefore(o.minTime,"second")||o.maxTime&&a.isAfter(o.maxTime,"second"));var u,m=null,p=null;switch(n){case"hour":p=(m=a.get(n))%12>0?m%12:12,u="h"+(o.format.indexOf("hh")>-1?"h":"");break;case"minute":case"second":(m=a.get(n))%5==0&&(p=m>0?m/5:12),u=n.charAt(0).repeat(2);break;case"meridiem":p=a.hour()>11?3:9,u="A";break;default:return console.warn("Invalid view "+n),!1}var b=a.format(u);return l.find(".timepicker-btns button").toggleClass("font-weight-bold",!1).filter('[data-unit="'+n+'"]').toggleClass("font-weight-bold",!0).text(b),l.find(".clock-input-table .chevron-btn").data("unit",n),e.forEach(function(t){var e=a.format(t[1]);l.find("."+t[2]+"-btn").text(e),l.find("."+t[2]+"-input").val(e)}),n!=i&&l.find(".clock-input-table button").each(function(){var t,e=jQuery(this),i=parseInt(e.attr("class").match(/\bpos\-(\d+)/)[1]),a=!0;if(i>0){switch(n){case"hour":t=[i,i%12,i%12+12];break;case"minute":case"second":t=[i%12*5];break;case"meridiem":t=i%6>0?[i<6?1:0]:[]}t.forEach(function(t){a&&=null===o.unitText[n][t]}),e.prop("disabled",a).toggleClass("text-light",a).toggleClass("btn-outline-dark border-white",i!=p).toggleClass("active btn-info",i==p)}else e.text(b)}),l.data("prevview",n),!0}jQuery.fn.timepicker=function(a){var d=parseInt(jQuery.fn.dropdown.Constructor.VERSION.replace(/\..+$/,""));if(d<4&&console.error("Invalid bootstrap version "+d+" detected"),"string"==typeof a){if(this.length<1)return;var c=this.data("options")||{};switch(a){case"format":if(!(arguments.length>1))return c.format;arguments[1]&&"string"==typeof arguments[1]?(c.format=arguments[1],this.data("options",c)):console.warn("Invalid format");break;case"minTime":case"maxTime":if(!(arguments.length>1))return c[a];if(arguments[1]){var l=o(arguments[1],c);l&&l.isValid()?(c[a]=l,c.unitText=r(c),this.data("options",c)):console.warn("Invalid "+a)}else c[a]=null,c.unitText=r(c),this.data("options",c);break;case"step":if(!(arguments.length>1))return c[a];if(arguments[1]){var u=parseInt(arguments[1]);u>0&&u<86400&&u%(0>c.format.indexOf("s")?60:1)==0?(c.step=u,c.unitText=r(c),this.data("options",c)):console.warn("Invalid "+a)}else c.step=60,c.unitText=r(c),this.data("options",c);break;case"time":if(!(arguments.length>1))return o(this.val())||null;var l=arguments[1]?o(arguments[1],c):null;return this.val(l&&l.isValid()?l.format(c.format):"");case"viewTime":if(!(arguments.length>1))return this.data("viewtime");var l=arguments[1]?o(arguments[1],c):null;this.data("viewtime",l);case"view":if(!(arguments.length>1))return this.data("view");var m=arguments[1];s(jQuery(this).data("view",m))}return this}if(!n){n=!0;var p=".timepicker-table ";jQuery(document.head).append('<style id="timepicker-style">.timepicker-popover { font-size: inherit;  }.timepicker-btns .btn:hover { background-color: #e2e6ea; color: #000; }.timepicker-content span.hour, .timepicker-content span.minute, .timepicker-content span.second, .timepicker-content span.meridiem { display: none; }.timepicker-content[data-view="hour"] span.hour,.timepicker-content[data-view="minute"] span.minute,.timepicker-content[data-view="second"] span.second,.timepicker-content[data-view="meridiem"] span.meridiem { display: inline; }'+p+"td button:focus { box-shadow: none !important; }"+p+"td button:not(:disabled):hover { background-color: #6c757d !important; border-color: #6c757d !important; color: #fff; }"+p+"td button:disabled { cursor: not-allowed; }"+p+"td button.today { background-color: #fcf8e3; }"+p+"td, .timepicker-table th { padding: 0; }"+p+"button.btn { min-width: 2.3rem; }"+p+"button:focus { box-shadow: none !important; }"+p+"button:not(:disabled):hover { background-color: #6c757d !important; border-color: #6c757d !important; color: #fff; }"+p+"td button.pos-1 { margin: .6rem 0 0 .4rem; }"+p+"td button.pos-2 { margin: 0 .7rem .3rem 0; }"+p+"td button.pos-3 { margin: 0 0 0 .6rem; }"+p+"td button.pos-4 { margin: .3rem .7rem 0 0; }"+p+"td button.pos-5 { margin: 0 0 .6rem .4rem; }"+p+"td button.pos-6 { margin: .8rem 0 0 0; }"+p+"td button.pos-7 { margin: 0 .4rem .6rem 0; }"+p+"td button.pos-8 { margin: .3rem 0 0 .7rem; }"+p+"td button.pos-9 { margin: 0 .6rem 0 0; }"+p+"td button.pos-10 { margin: 0 0 .3rem .7rem; }"+p+"td button.pos-11 { margin: .6rem .4rem 0 0; }"+p+"td button.pos-12 { margin: 0 0 .6rem 0; }</style>"),jQuery(document.body).on("mouseup",function(t){0==jQuery(t.target).parents(".popover").length&&jQuery(".timepicker").popover("hide")})}void 0===a&&(a={});var b=jQuery.extend({},t,a);return b.minScreenWidth&&window.screen.width<b.minScreenWidth||/iPad|iPhone|iPod/.test(navigator.userAgent)?this.each(function(){var t=jQuery(this);this.type="time",jQuery('[data-toggle="timepicker"][data-target="#'+this.id+'"]').add(t.siblings().find('[data-toggle="timepicker"]')).on("click",function(){t.focus(),"showPicker"in HTMLInputElement.prototype&&t[0].showPicker()})}):this.each(function(){var t=jQuery(this),n=jQuery.extend(!0,{},b),a=t.data("format")||b.format;a&&(n.format=a);var d=t.attr("min")||t.data("mintime")||b.minTime;d&&(d=o(d))&&d.isValid()&&(n.minTime=d);var c=t.attr("max")||t.data("maxtime")||b.maxTime;c&&(c=o(c))&&c.isValid()&&(n.maxTime=c);var l=t.attr("step")||t.data("step")||b.step;if(l>0&&l<86400&&60%l>0&&(n.step=parseInt(l)),n.unitText=r(n),t.data("options",n),t.data("timepicker"))return this;t.data("timepicker",!0);var u=this.id,m=[];this.id?m=jQuery('[data-toggle="timepicker"][data-target="#'+this.id+'"]'):(u="input-"+Math.floor(1e6*Math.random()+1),this.id=u),0==m.length&&(m=t.siblings().find('[data-toggle="timepicker"]:not([data-target])')),t.toggleClass("timepicker",!0);var p=jQuery('label[for="'+u+'"]');t.on("change",function(){this.value=this.value.replace(/^\s+|\s+$/g,"");var e=t.data("options"),i=o(this.value,e);this.value=!1!==i?i.format(e.format):""}).on("shown.bs.popover",function(){jQuery("#"+u+"-picker-content").find(".hour-input").select()}).on("inserted.bs.popover",function(){jQuery(".popover").find('[data-dismiss="popover"]').on("click",function(){t.popover("hide")}),function t(n){for(var a=n.attr("id"),o=n.data("options"),r=dayjs(),d=o.minTime||dayjs().startOf("day"),c=o.maxTime||dayjs().endOf("day"),l=o.step||60,u={hour:{},minute:{},second:{},meridiem:{}},m=n.data("viewtime"),p=d.clone();p.isBefore(c)||p.isSame(c,"second");)u.hour[p.hour()]=!0,u.minute[p.minute()]=!0,u.second[p.second()]=!0,u.meridiem[p.hour()>11?1:0]=!0,!p.isBefore(d)&&!p.isAfter(c)&&!m&&r.isBefore(p)&&(m=p),p=p.add(l,"second");m||(m=r.endOf(0>o.format.indexOf("s")?"minute":"second")),n.data("viewtime",m);var b=o.format.indexOf("s")>-1&&l%60>0,h=l%300==0&&!1,f=m.hour(),v='<div class="clock-input'+(h?"":" d-none")+'"><div class="d-flex justify-content-center align-items-center timepicker-btns"><div class="btn-group"><button type="button" class="btn px-2 font-weight-bold hour-btn" data-unit="hour">'+m.format("hh")+'</button><a class="btn px-0 disabled" href="javascript:void(0)" role="button" aria-disabled="true">:</a><button type="button" class="btn px-2 minute-btn" data-unit="minute"'+ +(l%3600>0?"":' disabled="disabled"')+">"+m.format("mm")+"</button>"+(b?'<a class="btn px-0 disabled" href="javascript:void(0)" role="button" aria-disabled="true">:</a><button type="button" id="'+a+'-picker-second-btn" class="btn px-2 second-btn" data-unit="second">'+m.format("ss")+"</button>":"")+'<button type="button" class="btn px-2 meridiem-btn" data-unit="meridiem">'+m.format("A")+"</button></div></div>"+('<table class="clock-input-table table table-sm table-borderless timepicker-table mx-auto w-auto mb-1"><thead class="thead-light"><tr><th class="text-center py-1" colspan="5"><span class="hour">Hour</span><span class="minute">Minute</span><span class="second">Second</span><span class="meridiem">Meridiem</span></th></tr></thead><tbody><tr><td></td><td class="text-right">{{11}}</td><td class="text-center">{{12}}</td><td class="text-left">{{1}}</td><td></td></tr><tr><td class="text-right">{{10}}</td><td class="text-center align-bottom" colspan="3"><a id="'+a+'-picker-add-link" class="btn btn-link px-1 mx-0 chevron-btn" data-step="1" href="javascript:void(0)"><i class="fas fa-chevron-up fa-lg"></i></a></td><td class="text-left">{{2}}</td></tr><tr><td class="text-right">{{9}}</td><td class="text-center" colspan="3">{{0}}</td><td class="text-left">{{3}}</td></tr><tr><td class="text-right">{{8}}</td><td class="text-center" colspan="3"><a id="'+a+'-picker-sub-link" class="btn btn-link px-1 mx-0 chevron-btn" data-step="-1" href="javascript:void(0)"><i class="fas fa-chevron-down fa-lg"></i></a></td><td class="text-left">{{4}}</td></tr><tr><td></td><td class="text-right">{{7}}</td><td class="text-center">{{6}}</td><td class="text-left">{{5}}</td><td></td></tr></tbody></table>').replace(/{{(\w+)}}/g,function(t,e){if(0==e)return'<button type="button" id="'+a+'-picker-center-btn" class="btn btn-outline-dark border-white font-weight-bold pos-0" data-hour="'+f+'"'+(f in u.hour?"":' disabled="disabled"')+">"+(f%12>0?f%12:12)+"</button>";var i=e%12,n=5*i;return'<button type="button" class="btn px-1 '+(f%12==e%12?"active btn-info":"btn-outline-dark border-white")+" pos-"+e+'" '+(i in u.hour?"":' disabled="disabled"')+'><span class="hour">'+e+'</span><span class="minute second">'+(n>9?"":"0")+n+'</span><span class="meridiem'+(e%3>0?" text-light":"")+'">'+(e%6>0?e<6?"PM":"AM":"&nbsp;")+"</span></button>"})+'</div><div class="keyboard-input'+(h?" d-none":"")+'"><table class="mx-auto text-center"><tr><td style="width:3rem"><a class="btn btn-link px-1 mx-0 chevron-btn" data-unit="hour" data-step="1" href="javascript:void(0)"><i class="fas fa-chevron-up fa-lg"></i></a></td><td></td><td style="width:3rem"><a class="btn btn-link px-1 mx-0 chevron-btn" data-unit="minute" data-step="1" href="javascript:void(0)"><i class="fas fa-chevron-up fa-lg"></i></a></td>'+(b?'<td></td><td style="width:3rem"><a class="btn btn-link px-1 mx-0 chevron-btn" data-unit="second" data-step="1" href="javascript:void(0)"><i class="fas fa-chevron-up fa-lg"></i></a></td>':"")+'<td style="width:3.3rem"><a class="btn btn-link px-1 mx-0 chevron-btn" data-unit="meridiem" data-step="1" href="javascript:void(0)"><i class="fas fa-chevron-up fa-lg"></i></a></td></tr><tr><td><input type="text" class="form-control text-center border-light hour-input" minlength="1" maxlength="2" /></button></td><td>:</td><td><input type="text" class="form-control text-center border-light minute-input" minlength="1" maxlength="2" /></td>'+(b?'<td>:</td><td><input type="text" class="form-control text-center border-light second-input" minlength="1" maxlength="2" /></td>':"")+'<td><button type="button" class="btn meridiem-btn"></button></td></tr><tr><td><a class="btn btn-link px-1 mx-0 chevron-btn" data-unit="hour" data-step="-1" href="javascript:void(0)"><i class="fas fa-chevron-down fa-lg"></i></a></td><td></td><td><a class="btn btn-link px-1 mx-0 chevron-btn" data-unit="minute" data-step="-1" href="javascript:void(0)"><i class="fas fa-chevron-down fa-lg"></i></a></td>'+(b?'<td></td><td><a class="btn btn-link px-1 mx-0 chevron-btn" data-unit="second" data-step="-1" href="javascript:void(0)"><i class="fas fa-chevron-down fa-lg"></i></a></td>':"")+'<td><a class="btn btn-link px-1 mx-0 chevron-btn" data-unit="meridiem" data-step="-1" href="javascript:void(0)"><i class="fas fa-chevron-down fa-lg"></i></a></td></tr></table></div><div class="d-flex justify-content-between"><div class="invisible"><button type="button" class="btn btn-link input-toggle-btn'+(h?" d-none":"")+'" data-input="clock"><i class="far fa-clock fa-fw"></i></button><button type="button" class="btn btn-link input-toggle-btn'+(h?"":" d-none")+'" data-input="keyboard"><i class="far fa-keyboard fa-fw"></i></button></div><div><button type="button" class="btn btn-secondary mx-1 cancel-btn" data-dismiss="popover">Cancel</button><button type="button" class="btn btn-primary mx-1 submit-btn">OK</button></div></div>',$=jQuery("#"+a+"-picker-content"),g=$.html(v).find(".clock-input-table"),_=jQuery("#"+a+"-picker-center-btn");$.find(".timepicker-btns button").on("click",function(){var t=jQuery(this).blur().data("unit");$.find(".clock-input-table .chevron-btn").data("unit",t),s(n.data("view",t))});var k=$.find(".hour-input").on("change",function(){var t=this.value.replace(/\D+/,"");t.length>0&&(t=parseInt(t))>-1&&t<24&&t in o.unitText.hour&&n.data("viewtime",n.data("viewtime").hour(t)),s(n)});k.add($.find(".minute-input, .second-input").on("change",function(){var t=this.value.replace(/\D+/,"");if(t.length>0){t=parseInt(t);var e=jQuery(this).attr("class").match(/(minute|second)\-input/)[1];t>-1&&t<60&&t in o.unitText[e]&&n.data("viewtime",n.data("viewtime").set(e,t))}s(n)})).on("keyup",function(t){"Enter"==t.key&&$.find(".submit-btn").triggerHandler("click")}),$.find(".meridiem-btn").on("click",function(){n.data("viewtime",n.data("viewtime").hour((n.data("viewtime").hour()+12)%24)),s(n)}).on("keydown",function(t){var e=t.key.toUpperCase(),i=n.data("viewtime").hour(),a=0;"A"==e&&i>12?a=-12:"P"==e&&i<11&&(a=12),0!=a&&(n.data("viewtime",n.data("viewtime").hour(i+a)),s(n))}),$.find(".input-toggle-btn").attr("tabindex",-1).on("click",function(){var t=jQuery(this).data("input");$.find(".clock-input").toggleClass("d-none","clock"!=t),$.find(".keyboard-input").toggleClass("d-none","keyboard"!=t),$.find(".input-toggle-btn").each(function(){var e=jQuery(this);e.toggleClass("d-none",e.data("input")==t)}),n.popover("update"),k.select()}),$.find(".cancel-btn").on("click",function(){n.popover("hide")}),$.find(".submit-btn").on("click",function(){n.val(n.data("viewtime").format(n.data("options").format)).popover("hide").data("view",null).trigger("change")}),g.find("button").on("click",function(){var t=jQuery(this),i=n.data("viewtime"),a=t.attr("class").match(/\bpos\-(\d+)/)[1],r=n.data("view")||"hour",d=0;switch(r){case"hour":a>0&&(i=i.hour(a%12+(i.hour()>11?12:0))),d=1;break;case"minute":a>0&&(i=i.minute(a%12*5)),d=2;break;case"second":a>0&&(i=i.second(a%12*5)),d=3;break;case"meridiem":a>0&&(i=i.hour(i.hour()%12+(a<6?12:0))),d=4}n.data("viewtime",i);for(var c=!0,l=d;l<4;l++)if(RegExp(e[l][0],"i").test(o.format)){a=null;var u,m=e[l][2];switch(m){case"hour":a=(u=i.get(m)%12)>0?u:12;break;case"minute":case"second":(u=i.get(m))%5==0&&(a=u>0?u/5:12);break;case"meridiem":a=i.hour()>11?3:9}n.data("view",m),c=!1;break}c?n.val(i.format(o.format)).popover("hide").data("view",null).trigger("change"):s(n)}),$.find(".chevron-btn").attr("tabindex",-1).on("click",function(){var t=jQuery(this).blur(),e=n.data("options"),a=t.data("unit")||"hour",o=t.data("step"),r=n.data("viewtime"),d="meridiem"==a?r.hour()>11?1:0:r.get(a);if(e.unitText[a],!(e.unitText[a].length<2)){var c=i[a];switch(a){case"hour":case"minute":case"second":var l=d;do if(l=(l+o+c)%c,null!==e.unitText[a][l]){_.text(e.unitText[a][l]),n.data("viewtime",r.set(a,l));break}while(l!=d);break;case"meridiem":var l=d;l=(l+o+c)%c,null!==e.unitText[a][l]&&(_.text(e.unitText[a][l]),n.data("viewtime",r.hour(r.hour()%12+(l>0?12:0))))}s(n)}}),s(n)}(t,n)}).on("hide.bs.popover",function(){t.data("view",null)}).popover({html:!0,placement:"bottom",sanitize:!1,title:'<button class="close mt-n1" data-dismiss="popover">&times;</button>'+(p.length>0?p.html():"Time"),template:'<div id="'+u+'-picker-popover" class="popover timepicker-popover bs-popover-bottom" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div id="'+u+'-popover-body" class="popover-body border-bottom"></div><div class="popover-footer bg-light text-right px-3 py-2 rounded-lg" hidden="hidden"><button type="button" class="btn btn-secondary btn-sm" title="Close the picker" data-dismiss="popover"><i class="fas fa-times"></i> Close</button></div></div>',trigger:m.length>0?"manual":"click",popperConfig:{},content:function(){var e=t.data("options"),i=o(t.val(),e);return t.data("viewtime",i),'<div id="'+u+'-picker-content" class="timepicker-content" data-view="hour"></div>'}}),m.on("click",function(){t.popover("toggle"),this.blur()})})},document.addEventListener("DOMContentLoaded",function(){jQuery('[data-toggle="timepicker"][data-target]').each(function(){jQuery(jQuery(this).data("target")).timepicker()})})}();